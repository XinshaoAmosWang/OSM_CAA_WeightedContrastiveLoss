%% generate data config
param.split_data_num=1;

dataDir = '/home/xinshao/Papers_Projects/Data';
param.file_path_cam1=fullfile(dataDir,'pep_256x128','scen1');%for test
param.file_path_cam2=fullfile(dataDir,'pep_256x128','scen2');%for train
param.file_path_cam3=fullfile(dataDir,'pep_256x128','scen3');%for train

param.save_traindata_filename='train_data_LPW';
param.save_testdata_filename='test_data_LPW';

%% generate ten split train/test data
for split_num_start=1:param.split_data_num
    if ~exist(strcat(param.save_traindata_filename,num2str(split_num_start)),'file')
        mkdir(strcat(param.save_traindata_filename,num2str(split_num_start)));
    end
    if ~exist(strcat(param.save_testdata_filename,num2str(split_num_start)),'file')
        mkdir(strcat(param.save_testdata_filename,num2str(split_num_start)));
    end
    
    LPW_cam2;
    identity_num_cam2 = size(nameMapLabel_cam2,1);
    LPW_cam3;
    
    save(strcat(param.save_traindata_filename,num2str(split_num_start),'/train_data.mat'),...
        'label_train_cam2_view1','label_train_cam2_view2',...
        'label_train_cam2_view3','label_train_cam2_view4', ...
        ...
        'label_train_cam3_view1','label_train_cam3_view2',...
        'label_train_cam3_view3','label_train_cam3_view4', ...
        ...
        'train_image_name_cam2_view1','train_image_name_cam2_view2',...
        'train_image_name_cam2_view3','train_image_name_cam2_view4',...
        ...
        'train_image_name_cam3_view1','train_image_name_cam3_view2',...
        'train_image_name_cam3_view3','train_image_name_cam3_view4',...
        '-v7.3');
    
    
    
    %% scene1: for test
    LPW_cam1;
    save(strcat(param.save_testdata_filename,num2str(split_num_start),'/test_data.mat'),...
        'label_test_cam1','label_test_cam2','label_test_cam3',...
        ...
        'test_image_name_cam1','test_image_name_cam2','test_image_name_cam3',...
        '-v7.3');
end


